{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoToolTips.js","utils/Api.js","components/RequireAuth.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","loggedIn","exit","pathname","useLocation","path","textPath","className","href","alt","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","type","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","chekDate","Date","getFullYear","ImagePopup","onPopupClick","onClose","imagePopupOpenClassName","display","src","PopupWithForm","isOpen","title","onSubmit","children","buttonTitle","popupOpenClassName","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","placeholder","autoComplete","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","e","ref","AddPlacePopup","setLink","Login","onLogin","setEmail","password","setPassword","Register","onRegister","InfoToolTips","textInfo","imageInfo","api","address","groupId","token","this","_address","_groupId","_token","Promise","all","getUserInfo","getCardList","_get","_set","data","liked","query","options","headers","authorization","fetch","createUrl","then","_checkResponse","method","body","JSON","stringify","res","ok","json","reject","status","RequireAuth","BASE_URL","checkResponse","App","isProfilePopupOpen","setIsProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isAvatarPopupOpen","setIsAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","infoToolTips","setInfoToolTips","isInfoToolTipsOpened","setIsInfoToolTipsOpened","navigate","useNavigate","closeAllPopups","handlePopupClickClose","classList","contains","localStorage","getItem","Accept","Authorization","removeItem","catch","err","console","log","checkToken","getAppInfo","user","handleEsc","key","document","addEventListener","removeEventListener","Provider","event","exact","element","toggleLike","newCard","c","removeCard","newCardsList","filter","auth","finally","setItem","setUserInfo","setCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0fd8b3c.chunk.js","sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header({email, loggedIn, exit}) {\n\n  const { pathname } = useLocation();\n    \n  const path = `${pathname === \"/signin\" ? \"/signup\" : \"/signin\"}`;\n  const textPath = `${pathname === \"/signin\" ? \"Регистрация\" : \"Войти\"}`;\n  \n  return(\n      <header className=\"header page__header\">\n        <a href=\"#0\" className=\"logo header__logo\" alt='Логотип проекта'> </a>\n        {loggedIn ? (\n          <div className=\"header__navigation\">\n            <p className=\"header__navigation_type_email\">{email}</p>\n            <Link className=\"header__navigation_type_link\" to=\"/signin\" onClick={exit}>Выйти</Link>\n          </div>\n        ) : (\n          <Link to={path} className=\"header__navigation_type_link\">{textPath}</Link>\n        )}\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  // Определяем, являемся ли мы владельцем текущей карточки\nconst isOwn = card.owner._id === currentUser._id; \nconst cardDeleteButtonClassName = (\n  `button ${isOwn ? 'element__trash-button' : 'element__button_hidden'}`\n);\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\nconst cardLikeButtonClassName = `element__button ${isLiked ? 'element__button_active' : ''}`; \n\n    function handleClick() {\n        onCardClick(card);\n      } \n\n    function handleLikeClick() {\n      onCardLike(card);\n    }\n\n    function handleDeleteClick() {\n      onCardDelete(card);\n    }\n\n    return(\n      \n      <li className=\"element\">\n         <div style={{ backgroundImage: `url(${card.link})` }} \n          className=\"element__image\" onClick={handleClick}></div>\n         <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n         <div className=\"element__block\">\n          <h2 className=\"element__title\">{card.name}</h2>\n          <div className=\"elemet__like-container\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <div className=\"element__counter\">{card.likes.length}</div>\n          </div>\n        </div>\n      </li>\n    )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete}) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n  \n\n  return(\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__wrapper\">\n          <button type=\"button\" className=\"profile__avatar\" onClick={onEditAvatar}  style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n            <div className=\"profile__overlay\"></div>\n          </button>\n            <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"button profile__edit-button\" onClick={onEditProfile}></button>\n            <p className=\"profile__occupation\">{currentUser.about}</p>  \n          </div>\n        </div>\n          <button type=\"button\" className=\"button profile__add-button\" \n          onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__content content__elements\">\n        {cards.map((card) => {\n            return (\n              <Card \n                key={card._id} \n                card={card} \n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n              )\n          })}\n        </ul>\n      </section>\n    </main>\n  )\n}\nexport default Main;\n","function Footer() {\n  const chekDate = new Date().getFullYear();\n  \n  return(\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__title\">&#169; {chekDate} Mesto Russia</p>\n    </footer>\n  )\n}\nexport default Footer;","function ImagePopup({card, onPopupClick, onClose}) {\n  const imagePopupOpenClassName =(`popup popup_type_image ${card ? 'popup_open' : ''}`)\n   \n  return card === null ? (\n    <div style={{display: `none`}}> </div>\n   ) : (\n    <section \n      className={imagePopupOpenClassName} \n      onClick={onPopupClick}\n    >\n      <div className=\"popup__image-container\">\n        <button \n          type=\"button\" \n          className=\"popup__close-button popup__close-button_block_image\" \n          onClick={onClose}\n        ></button>\n        <img \n          className=\"popup__image\" \n          src={card.link} \n          alt={card.name}\n        />\n        <h2 className=\"popup__name-title\">{card.name}</h2>\n      </div>\n    </section>\n    \n   )  \n}\n\nexport default ImagePopup;\n","import React from 'react';\nfunction PopupWithForm({name, onPopupClick, isOpen, onClick, title, onSubmit, children, buttonTitle}) {\n  const popupOpenClassName = (`popup popup_${name} page__popup ${isOpen ? 'popup_open' : ''}`);\n  return(\n  <section className={popupOpenClassName} \n  onClick={onPopupClick}>\n    <button type=\"button\" className=\"popup__close-button\" onClick={onClick}></button>\n    <div className=\"popup__container\">\n      <h2 className=\"popup__title\">{title}</h2>\n      <form \n        name={name} \n        className=\"popup__form page__popup\" \n        onSubmit={onSubmit}>\n          {children}\n        <button type=\"submit\" name=\"button\" className=\"popup__submit-button\">{buttonTitle}</button>\n      </form>\n    </div>\n  </section>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({isOpen, onUpdateUser, onClose, onPopupClick}) {\n  \n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n  \n  function handleChangeName(evt) {\n    setName(evt.target.value);\n  }\n  \n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name=\"submit\" \n      title=\"Редактировать профиль\" \n      buttonTitle=\"Сохранить\" \n      isOpen={isOpen} \n      onClick={onClose} \n      onPopupClick={onPopupClick}\n      onSubmit={handleSubmit}\n    >\n      <input \n        type=\"text\" \n        id=\"user-name\" \n        name=\"name\" \n        placeholder=\"Имя\" \n        className=\"popup__field popup__field_type_name\" \n        autoComplete=\"off\" \n        required minLength=\"2\" \n        maxLength=\"40\"\n        value={name || ''}\n        onChange={handleChangeName}/>\n      <span id=\"user-name-error\" className=\"popup__field-error\"></span>\n      <input \n        type=\"text\" \n        id=\"about\" \n        name=\"about\" \n        placeholder=\"О себе\" \n        className=\"popup__field popup__field_type_about-me\" \n        autoComplete=\"off\" \n        required \n        minLength=\"2\" \n        maxLength=\"200\"\n        value={description || ''}\n        onChange={handleChangeDescription}/>\n      <span id=\"about-error\" className=\"popup__field-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onUpdateAvatar, onClose, onPopupClick}) {\n  const avatarRef = React.useRef();\n  \n  React.useEffect(() => {\n    avatarRef.current.value = \"\";\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n  \n  return (\n    <PopupWithForm \n        name=\"avatar\" \n        title=\"Обновить аватар\" \n        buttonTitle=\"Сохранить\"\n        isOpen={isOpen} \n        onClick={onClose} \n        onPopupClick={onPopupClick}\n        onSubmit={handleSubmit}>\n        <input \n          type=\"url\" \n          id=\"avatar\" \n          name=\"avatar\" \n          placeholder=\"Ссылка\" \n          className=\"popup__field popup__field_type_avatar\" \n          autoComplete=\"off\" \n          required\n          ref={avatarRef} />\n        <span id=\"avatar-error\" className=\"popup__field-error\"></span>\n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onAddPlace, onClose, onPopupClick}) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n  }, [isOpen])\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name,\n      link\n    });\n  }  \n\n  return(\n    <PopupWithForm \n        name=\"add\" \n        title=\"Новое место\" \n        buttonTitle=\"Создать\"\n        isOpen={isOpen}\n        onClick={onClose} \n        onPopupClick={onPopupClick} \n        onSubmit={handleSubmit}>\n        <input \n          type=\"text\" \n          id=\"place-name\" \n          name=\"name\" \n          placeholder=\"Название\" \n          className=\"popup__field popup__field_type_placename\" \n          autoComplete=\"off\" \n          required \n          minLength=\"2\" \n          maxLength=\"30\"\n          value={name || ''}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__field-error\" id=\"place-name-error\"></span>\n        <input \n          type=\"url\" \n          id=\"link\" \n          name=\"link\" \n          placeholder=\"Ссылка на картинку\" \n          className=\"popup__field popup__field_type_link\" \n          autoComplete=\"off\" \n          required\n          value={link || ''}\n          onChange={handleChangeLink}\n        />\n        <span className=\"popup__field-error\" id=\"link-error\"></span>\n      </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction Login({ onLogin }) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLogin(password, email);\n  }\n\n  return (\n\n    <div className=\"login\">\n      <h2 className='login__title'>Вход</h2>\n      <form className='login__form' onSubmit={handleSubmit}>\n        <input \n          type=\"email\" \n          id=\"email\" \n          name=\"email\" \n          placeholder=\"Email\" \n          className=\"login__input login__field_type_email\" \n          autoComplete=\"off\" \n          required \n          minLength=\"3\" \n          maxLength=\"40\"\n          value={email}\n          onChange={handleChangeEmail}\n        />\n        <span id=\"email-error\" className=\"popup__field-error\"></span>\n        <input \n          type=\"text\" \n          id=\"password\" \n          name=\"password\" \n          placeholder=\"Пароль\" \n          className=\"login__input login__field_type_password\" \n          autoComplete=\"off\" \n          required \n          minLength=\"8\" \n          maxLength=\"40\"\n          value={password}\n          onChange={handleChangePassword}\n        />\n        <span id=\"password-error\" className=\"popup__field-error\"></span>\n        <button type=\"submit\" className=\"button login__button\">Войти</button> \n      </form>\n    </div>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction Register({onRegister}) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  \n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onRegister(password, email);\n  }\n\n  return (\n    <div className=\"login\">\n      <h2 className='login__title'>Регистрация</h2>\n      <form className='login__form' onSubmit={handleSubmit}>\n        <input \n          type=\"email\" \n          id=\"email\" \n          name=\"email\" \n          placeholder=\"email@mail.com\" \n          className=\"login__input login__field_type_email\" \n          autoComplete=\"off\" \n          required \n          minLength=\"3\" \n          maxLength=\"40\"\n          value={email || ''}\n          onChange={handleChangeEmail}\n        />\n        <span id=\"email-error\" className=\"popup__field-error\"></span>\n        <input \n          type=\"text\" \n          id=\"password\" \n          name=\"password\" \n          placeholder=\"..........\" \n          className=\"login__input login__field_type_password\" \n          autoComplete=\"off\" \n          required \n          minLength=\"8\" \n          maxLength=\"40\"\n          value={password || ''}\n          onChange={handleChangePassword}\n        />\n        <span id=\"password-error\" className=\"popup__field-error\"></span>\n        <button type=\"submit\" className=\"button login__button\">Зарегистрироваться</button> \n      </form>\n      <p>Уже зарегистрированы? <Link className=\"login__navigation\" to=\"/signin\">Войти</Link></p>\n    </div>\n  )\n}\n\nexport default Register;","import React from 'react';\n\nfunction InfoToolTips({isOpen, onClose, onPopupClick, InfoToolTips}) {\n  const textInfo = `${InfoToolTips ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`\n  const imageInfo = `${InfoToolTips ? 'popup__image_type_success' : 'popup__image_type_fail'}`\n  \n  return (\n    <div className={`popup ${isOpen ? 'popup_open' : ''}`} onClick={onPopupClick}>\n      <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n      <div className=\"popup__container\">\n        <div className={imageInfo}/> \n        <p className=\"popup__info\">{textInfo}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoToolTips;","class Api {\n    constructor({ address, groupId, token }) {\n        this._address = address\n        this._groupId = groupId\n        this._token = token\n    }\n\n    getAppInfo() {\n        return Promise.all([this.getUserInfo(), this.getCardList()])\n    }\n\n    getUserInfo() {\n        return this._get('users/me')\n    }\n\n    setUserInfo(name, about) {\n        return this._set('users/me', 'PATCH', {name, about})\n    }\n\n    setUserAvatar(data) {\n      const avatar = {avatar: data}\n      return this._set('users/me/avatar', 'PATCH', avatar)\n        \n    }\n    \n    getCardList() {\n        return this._get('cards')\n    }\n    \n    removeCard(id) {\n        return this._set(`cards/${id}`, 'DELETE', {});\n\n    }\n\n    setCard(name, link) {\n       return this._set('cards', 'POST', {name, link})\n    }\n    \n    toggleLike(id, liked) {\n      return this._set(`cards/likes/${id}`, liked ? 'PUT' : 'DELETE')\n    }\n\n    _get(query) {\n      const options = {\n        headers: {\n          authorization: this._token\n        }\n      }\n      return fetch(this.createUrl(query), options)\n             .then(this._checkResponse)\n    }\n\n    _set(query, method, body) {\n      const options = {\n        method,\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }\n      return fetch(this.createUrl(query), options)\n             .then(this._checkResponse)\n    }\n    \n    _checkResponse(res) {\n      return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n    }\n\n\n    createUrl(query) {\n      return `${this._address}/${this._groupId}/${query}`\n    }\n}\n\nconst api = new Api({\n  address: 'https://mesto.nomoreparties.co/v1',\n  groupId: 'cohort-29',\n  token: 'f416e76f-617f-4e84-afcd-d10e230d2054'\n})\n\nexport default api;","import React from 'react';\n\nimport { Navigate } from 'react-router-dom';\n\nexport default function RequireAuth({loggedIn, children}) {\n  return loggedIn ? children : <Navigate to=\"/signin\"/>\n}\n","const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse (res) {\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n}\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((res) => checkResponse(res)\n      /*if (res.ok) {\n        return res.json()\n      } else {\n        return Promise.reject(res)\n      }*/\n    )\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((res) => checkResponse(res))\n    .then(data => {\n      localStorage.setItem('jwt', data.token);\n      localStorage.setItem('email', email);\n      return data;\n    });\n      \n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json', \n        'Content-Type': 'application/json', \n        Authorization: `Bearer ${token}`\n    }})\n    .then((res) => checkResponse(res))\n};\n  ","import React from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolTips from './InfoToolTips';\nimport api from '../utils/Api';\nimport RequireAuth from './RequireAuth';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isProfilePopupOpen, setIsProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [infoToolTips, setInfoToolTips] = React.useState(null);\n  const [isInfoToolTipsOpened, setIsInfoToolTipsOpened] = React.useState(false);\n \n  const navigate = useNavigate();\n    \n  React.useEffect(() => {\n    checkToken()\n  }, [])\n\n  React.useEffect(() => {\n    if(setLoggedIn(true)) { \n     navigate('/')\n    }\n  }, [])\n\n  React.useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => console.log(`Ошибка загрузки данных: ${err}`))\n  }, [])\n   \n  React.useEffect(() => {\n    if (isProfilePopupOpen || isAddPlacePopupOpen || isAvatarPopupOpen || selectedCard) {\n      function handleEsc(evt) {\n        if (evt.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n      document.addEventListener(\"keydown\", handleEsc)\n      return () => {\n        document.removeEventListener(\"keydown\", handleEsc)\n      }\n    }\n  }, [isProfilePopupOpen, isAddPlacePopupOpen, isAvatarPopupOpen, selectedCard])\n\n  function checkToken() {\n    if (localStorage.getItem('jwt')) {\n      auth \n        .checkToken(localStorage.getItem('jwt'))\n        .then((res) => {\n          if (res.data) {\n            setEmail(localStorage.getItem('email'))\n            setLoggedIn(true)\n            navigate('/')\n          } else {\n            localStorage.removeItem('jwt')\n            setLoggedIn(false)\n            setEmail('')\n          }\n        })\n      .catch((err) => console.log(`Ошибка проверки токена: ${err}`))\n    } \n  }\n\n  function handleLogin (password, email) {\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true)\n          setEmail(localStorage.getItem('email'))\n          navigate('/')\n        } else {\n          setIsInfoToolTipsOpened(true);\n          setInfoToolTips(false)\n        }\n      })\n      .catch(() => {\n        setIsInfoToolTipsOpened(true)\n        setInfoToolTips(false)\n      })\n  }\n\n  function handleLogout (event) {\n    event.preventDefault()\n    localStorage.removeItem('jwt')   \n    setLoggedIn(false)\n    setEmail('')\n    navigate('/signin')\n  }\n\n  function handleRegister (password, email) {\n    auth\n      .register(password, email)\n      .then(res => {\n        if (res.data._id) {\n          setInfoToolTips(true);\n          navigate('/signin')\n        } else {\n          setInfoToolTips(false);\n        }\n    })\n    .catch(() => {\n      setInfoToolTips(false);\n    })\n    .finally(() => {\n      setIsInfoToolTipsOpened(true);\n    })\n  }\n  \n  function openAddPlacePopup() {\n    setIsAddPlacePopupOpen(true);\n  }\n  \n  function openProfilePopup() {\n    setIsProfilePopupOpen(true);\n  }\n  \n  function openAvatarPopup() {\n    setIsAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsAvatarPopupOpen(false);\n    setIsInfoToolTipsOpened(false);\n    setSelectedCard(null);\n  }\n\n  function handlePopupClickClose(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  \n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups(res);\n\n      })\n      .catch((err) => console.log(`Ошибка загрузки данных профиля: ${err}`))\n  }\n  \n  function handleUpdateAvatar(data) {\n    api\n      .setUserAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Ошибка загрузки аватара: ${err}`))\n  }\n  \n  function handleAddPlaceSubmit(data) {\n    api\n     .setCard(data.name, data.link)\n     .then(newCard => {\n       setCards([newCard, ...cards]);\n       closeAllPopups();\n     })\n     .catch((err) => console.log(`Ошибка загрузки карточки: ${err}`))\n  }\n  \n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .toggleLike(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch((err) => console.log(`Ошибка постановки/снятия лайка: ${err}`))\n  }\n  \n  function handleCardDelete(card) {\n    api\n    .removeCard(card._id)\n    .then(() => {\n      const newCardsList = cards.filter((c) => c._id !== card._id)\n      setCards(newCardsList);\n    })\n    .catch((err) => console.log(`Ошибка удаления карточки: ${err}`))\n  }\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Header \n        loggedIn={loggedIn}\n        exit={handleLogout}\n        email={email}/>\n      <Routes>\n        <Route exact path={'/'} element={<RequireAuth\n          loggedIn={loggedIn}\n          ><Main \n          onEditProfile={openProfilePopup} \n          onAddPlace={openAddPlacePopup} \n          onEditAvatar={openAvatarPopup}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}/></RequireAuth>}/>\n        <Route path=\"signup\" element={<Register \n          onRegister={handleRegister}\n          />}/>\n        <Route path=\"signin\" element={<Login onLogin={handleLogin}/>}/>\n      </Routes>\n    <Footer />\n    <InfoToolTips \n      isOpen={isInfoToolTipsOpened} \n      onClose={closeAllPopups} \n      onPopupClick={handlePopupClickClose}\n      InfoToolTips={infoToolTips}\n      />\n    <EditProfilePopup \n      isOpen={isProfilePopupOpen} \n      onClose={closeAllPopups}\n      onPopupClick={handlePopupClickClose} \n      onUpdateUser={handleUpdateUser}\n    />\n    <AddPlacePopup\n      isOpen={isAddPlacePopupOpen}\n      onClose={closeAllPopups}\n      onPopupClick={handlePopupClickClose}\n      onAddPlace={handleAddPlaceSubmit}\n    ></AddPlacePopup>\n    <EditAvatarPopup\n      isOpen={isAvatarPopupOpen}\n      onClose={closeAllPopups}\n      onPopupClick={handlePopupClickClose} \n      onUpdateAvatar={handleUpdateAvatar}\n    ></EditAvatarPopup>\n    <ImagePopup \n      card={selectedCard} \n      onClose={closeAllPopups} \n      onPopupClick={handlePopupClickClose}/>\n    </div>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}